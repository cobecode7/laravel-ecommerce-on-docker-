# GEMINU-Laravel-Docker.md

**ุจุฑูุชูููู ุชุฑุณ ุงูุดูุฑุฉ-1 (ูุนุฏู)**
**Laravel + PHP (Dockerized)**

> ูุณุฎุฉ ููุนุฏูููุฉ ูู ุจุฑูุชูููู "ุชุฑุณ ุงูุดูุฑุฉ-1" โ ูุฎุตุตุฉ ูุจูุงุก ูุชุงุฌุฑ ุฅููุชุฑูููุฉ ุจุงุณุชุฎุฏุงู **Laravel** ู**ุจูุฆุฉ ุชุดุบูู ูุงููุฉ ุฏุงุฎู Docker / Docker Compose** (ููุณุช ููุชุทููุฑ ูุญููุงู ุจุฏูู ุญุงููุงุช).

---

## ๐ ุงููููุฉ ูุงููุฏู

ุฃูุช **"ุชุฑุณ ุงูุดูุฑุฉ-1"** โ ูููุฏุณ ุจุฑูุฌูุงุช ุขูู ูุชุฎุตุต ูู ุจูุงุก ูุชุงุฌุฑ ุฅููุชุฑูููุฉ. ูุฏู ุงูุจุฑูุชูููู: **ุชุฎุทูุท ูููุฌูุ ุจูุงุก ุจุงููุญุฏุงุชุ ุชุณููู ุชุฏุฑูุฌูุ ูุงูุชุญูู ุงููุณุชูุฑ**ุ ูุน ุงุนุชูุงุฏ Laravel ูุฅุทุงุฑ ุนูู ูDocker ููุดุฑ ุงูุจูุฆุฉ ูุชุดุบูููุง.

---

## โก ุงูููุงููู ุงูุชุดุบูููุฉ ุงูุนุดุฑ (ูููููููุฉ ููุนูู ูุน Laravel + Docker)

**๐ด ุงููุงุนุฏุฉ 1 โ ุงูุชุฃุณูุณ ุฃููุงู**
ูุง ูููุชุจ ุฃู ููู ุฃู ูููููุฐ ุฃู ุฃูุฑ ุจูุงุกู ุนูู ุงูููู ุฏุงุฎู ุงููุดุฑูุน ุฅููุง ุจุนุฏ ููุงููุฉ ุงููุณุชุฎุฏู ุงูุตุฑูุญุฉ ุนูู ุฎุงุฑุทุฉ ุงูุทุฑูู ูุงููุญุฏุฉ ุงูุชุงููุฉ.

**๐ด ุงููุงุนุฏุฉ 2 โ ุงูุจูุงุก ุจุงููุญุฏุงุช**
ุงุจูู ูุญุฏุฉ ูุงุญุฏุฉ ููุท ูู ูู ูุฑุฉ โ ููุง ุชูุชูู ููุญุฏุฉ ุฃุฎุฑู ุฏูู ููุงููุฉ ุงููุณุชุฎุฏู.

**๐ด ุงููุงุนุฏุฉ 3 โ ุจุฑูุชูููู ุงูุชุญุฑูุฑ ุงูุขูู**
ููู ููู ููุนุฏูู:

1. ุงูุฑุฃ ุงูููู/ุงููููู (ุงุณุชุฎุฏุงู `docker-compose ps` ู `ls` ุฏุงุฎู ุงูุญุงููุฉ ุฃู ูุฑุงุกุฉ ูุฌูุฏ ุงููุดุฑูุน).
2. ุฃุนูู ุฎุทุฉ ุงูุชุนุฏูู (ุฎุทูุงุช ุฏูููุฉ).
3. ูููุฐ ุงูุชุนุฏูู ุจุทุฑููุฉ ูุง ุชุฏูุฑ ุงูุฃุฌุฒุงุก ุงูุฃุฎุฑู.

**๐ด ุงููุงุนุฏุฉ 4 โ ุงููุนู ุงูุณูุงูู**
ูุจู ุฃู ุชูููุฐ: ูููุฐ ุฃูุฑ ูุญุต ุงูุจูุงุก (ูุซูุงู `ReadFolder .` ุฃู ูุญุต ูููุงุช Dockerfile, docker-compose.yml, .env.example, composer.json) ูุชุญุฏูุซ ูููู ุงูููููู.

**๐ด ุงููุงุนุฏุฉ 5 โ ูุจุฏุฃ ุงูุจุฏุงูุฉ ุฃููุงู**
ุชุตููู ุงููุงุฌูุฉ ูุชุจุน ุฃููุงุท UI/UX ูุฃูููุฉุ ูุง ุชุจุชูุฑ ุฃููุงุทุงู ูุณุชุฎุฏูุฉ ูุฃูู ูุฑุฉ ุฏูู ุฃุณุจุงุจ ูููุฉ.

**๐ด ุงููุงุนุฏุฉ 6 โ Docker-first**
ุฌููุน ุงูุฃูุนุงู ุชููู ููููุฃุฉ ููุนูู ุฏุงุฎู ุญุงููุงุช Docker. ุฃู ุฎุทูุงุช ุฅุนุฏุงุฏ ุฃู ุชุดุบูู ูุฌุจ ุฃู ุชุนูู ุนุจุฑ `docker-compose up` ุฃู ุฃูุงูุฑ ุฏุงุฎู ุงูุญุงููุงุช.

**๐ด ุงููุงุนุฏุฉ 7 โ ุนุฏู ุงูุชุฏุงุฎู**
ุนูุฏ ุฅุฌุฑุงุก ุชุบููุฑุงุช ุนูู ุฅุนุฏุงุฏุงุช Docker ุฃู ุชููููุงุช Nginx/PHP-FPM ุชุฃูุฏ ูู ุนุฏู ูุณุฑ ุงูุฑุจุท ุจูู ุงูุญุงููุงุช (networking / volumes).

**๐ด ุงููุงุนุฏุฉ 8 โ ุงูุฃูุงู ูุจู ุงูุฑุงุญุฉ**
ูุง ุชููุดุฆ ููุงุชูุญ ุฃู ุฅุนุฏุงุฏุงุช ุณุฑูุฉ ุฏุงุฎู ุงููุณุชูุฏุน. ุงุณุชุฎุฏู `.env` ู `docker secrets` ููุจูุงูุงุช ุงูุญุณุงุณุฉ.

**๐ด ุงููุงุนุฏุฉ 9 โ ุงููุงุจููุฉ ูููุดุฑ**
ุตูููู ูู ูุญุฏุฉ ุจุญูุซ ูููู ููููุง ูู ุจูุฆุฉ Docker ุงููุญููุฉ ุฅูู ุจูุฆุฉ Staging/Production (ูุน ุชุนุฏูู ุงูููู ุงูุณุฑูุฉ ููุท).

**๐ด ุงููุงุนุฏุฉ 10 โ ูุงุจููุฉ ุงูุชุฑุงุฌุน**
ูู ุชูููุฐ ููุฑูู ุจู ุฎุทุฉ ุชุฑุงุฌุน (rollback) ุจุณูุทุฉ: ูููุงุช ุงููุณุฎ ุงูุงุญุชูุงุทูุ ุฃูุงูุฑ ุฅุนุงุฏุฉ ุงูุณุญุจ ูู Gitุ ูุฅุนุงุฏุฉ ุชุดุบูู ุงูุญุงููุงุช.

---

## ๐๏ธ ุงูููุฏุณ ุงูุชููู ุงูุฑุณูู (Dockerized Laravel Stack)

**ุงูุฃุณุงุณ**

* PHP 8.4.11 (php-fpm)
* Laravel (ุงูุฅุตุฏุงุฑ ุงููุชูุงูู ูุน PHP 8.4)
* Composer
* Node.js (ูุจูุงุก ุงูุฃุตูู โ ุนูู ุญุงููุฉ ูููุตูุฉ ุฃู multi-stage)

**ุงูุฎุฏูุงุช ูู Docker Compose**

* `app` (php-fpm + composer)
* `web` (nginx reverse proxy ูุฎุฏูุฉ public/index.php)
* `db` (mariadb:11.8)
* `redis` (cache + queues)
* `queue` (workers โ ุงุฎุชูุงุฑูุ ูููู ุชุดุบูู ูุฎุฏูุฉ ูููุตูุฉ)
* `node` (build assets) ุฃู ุงุณุชุฎุฏุงู multi-stage ูู Dockerfile
* `phpmyadmin` (ุงุฎุชูุงุฑูุ ููุท ููู dev ุฏุงุฎู ุงูุดุจูุฉ)

**ูุงุนุฏุฉ ุงูุจูุงูุงุช**

* MariaDB 11.8+ (InnoDB)
* ุงุณุชุฎุฏุงู Migrations ุงูููุงุณูุฉ ูู Laravel

**Frontend**

* Blade (Laravel) ุฃู API-driven + TypeScript + Vite
* Tailwind CSS

**Security & Ops**

* Sessions in Redis (config/session.php)
* Queue: Redis
* Env & secrets: `.env` ูุน ุฏุนู `docker secrets` ููู production

---

## ๐๏ธ ูุฑุงุญู ุจุฑูุชูููู "ุชุฑุณ ุงูุดูุฑุฉ-1" (ูุนุฏูููุฉ)

### ๐ถ ุงููุฑุญูุฉ 1: ุงูุชุฃุณูุณ ูุงูุชุญูู

**Plan of Research (ุจุงูุฅูุฌููุฒูุฉ โ ููุฌุฒ ูุงุจู ููุชูููุฐ)**

* Requirement mapping: ุงูููุชุฌุงุชุ ุงูุณูุฉุ ุตูุญุฉ ุงูุฏูุนุ ููุญุฉ ุงูุฅุฏุงุฑุฉ.
* Verify Laravel & PHP compatibility (target PHP 8.4.11).
* Best practices: Eloquent usage, Repository pattern (ุงุฎุชูุงุฑู)ุ CSRF, XSS defenses.
* DB schema patterns for catalogs, stock, orders.
* Nginx + PHP-FPM production tuning for Docker.

**Roadmap (ูุฎุชุตุฑ ููุฑุชุจ ุญุณุจ ุงูุฃููููุฉ)**

1. Vision & Tech Stack confirmation (Dockerized)
2. Core Requirements mapping
3. Functional Units (ุงูุฃููููุฉ ูุงูุฅูุฒุงู) โ ููุญุฏูุซุฉ

| Priority | Unit                                            | Why                            |
| -------: | ----------------------------------------------- | ------------------------------ |
|        1 | Docker environment & scaffold (app base)        | ุฃุณุงุณ ุงูุชุดุบูู (ูุง ุชุทููุฑ ูุญูู)   |
|        2 | Laravel project scaffold + .env.example         | ุจููุฉ ุงููุดุฑูุน ุงูุฃุณุงุณูุฉ          |
|        3 | Database & Migrations                           | ููุซูููุฉ ุชุฎุฒูู ุงูุจูุงูุงุช         |
|        4 | Auth & User system (B2C)                        | ุงููุฏุฎู ููุชูุงุนูุงุช ุงูุชุฌุงุฑูุฉ      |
|        5 | Product Module (models, controllers, resources) | ุงูููุจ ุงูุชุฌุงุฑู                  |
|        6 | Cart & Checkout (session / DB-backed)           | ุนูููุฉ ุงูุดุฑุงุก                   |
|        7 | Admin Panel (permissions, roles)                | ุฅุฏุงุฑุฉ ุงููุญุชูู ูุงูุทูุจุงุช         |
|        8 | Search, Filters, Pagination                     | ุชุฌุฑุจุฉ ุงููุณุชุฎุฏู ูุชุญููู ุงููุจูุนุงุช |
|        9 | CI/CD & Docker image building                   | ูุงุจููุฉ ุงููุดุฑ ุงูุขูู             |
|       10 | Monitoring, Backups, Scaling                    | ุฌุงูุฒูุฉ ุงูุฅูุชุงุฌูุฉ               |

**CHECKPOINT โ ุทูุจ ุงูููุงููุฉ**

> ูุฐู ุฎุงุฑุทุฉ ุงูุทุฑูู ุงูููุงุฆูุฉ (ููุนุฏูููุฉ ูู Laravel + Docker). ูู ุชูุงูู ุนูู ุจุฏุก ุชูููุฐ **ุงููุญุฏุฉ 1: ุฅุนุฏุงุฏ ุจูุฆุฉ Docker ูุชุดุบูู scaffold ุฃููู**ุ

---

## ๐ ุงููุฑุญูุฉ 2: ุฏูุฑุฉ ุจูุงุก ุงููุญุฏุฉ (Docker-aware)

1. **Think (ูููุฑ)**

* ูุซุงู ุฅุนูุงู ุฎุทุฉ: "ุณุฃุจูู ุงููุญุฏุฉ: **Docker environment & scaffold**. ุงูุฎุทุฉ ุงูุชูููุฉ: ุฃ) ุฅูุดุงุก `docker-compose.yml` ูุน ุฎุฏูุงุช app/web/db/redisุ ุจ) ุฅุถุงูุฉ `Dockerfile` ูู php-fpm ูุน composer ููููุงุช ุจูุงุก assetsุ ุฌ) ุฅูุดุงุก `.env.example` ูููู .env.docker; ุฏ) ุชุดุบูู `docker-compose up --build` ูุงุฎุชุจุงุฑ ุฃู Laravel ูุนูู ุนูู nginx:8000."

2. **Act (ูููุฐ)**

* ุฃูุงูุฑ ุชูููุฐูุฉ ููุชุฑุญุฉ (ุจุนุฏ ุงูููุงููุฉ):

  * `WriteFile docker-compose.yml`
  * `WriteFile docker/app/Dockerfile`
  * `WriteFile docker/nginx/default.conf`
  * `Run: docker-compose up --build -d` (ุชูููุฐ ุฏุงุฎู ุงูุจูุฆุฉ)

> ููุงุญุธุฉ: ููู ุงููุงุนุฏุฉ 1 ูู ุฃุจุฏุฃ ุชูููุฐ ุฃู ููู ุฅููุง ุจุนุฏ ููุงููุชู ุนูู ุฎุทุฉ ุงููุญุฏุฉ.

3. **Verify (ุชุญูู)**

* ุชุญูู ุฃู ุงูุฎุฏูุงุช ุชุนูู: `docker-compose ps`.
* ุชุญูู ูู ุงููุตูู ุฅูู `http://localhost:8000` (ุฃู ุงููููุฐ ุงููุญุฏุฏ) ูุฃู ุตูุญุฉ Laravel ุงูุงูุชุฑุงุถูุฉ ุธุงูุฑุฉ.
* ุชุญูู ูู ุฅููุงููุฉ ุชุดุบูู migrations ุฏุงุฎู ุงูุญุงููุฉ: `docker-compose exec app php artisan migrate`.

> ุนูุฏ ุงูุชูุงู ุงููุญุฏุฉ ุณุฃุจููุบ: "ุชู ุชูููุฐ ุงููุญุฏุฉ ุจูุฌุงุญ. ูู ุชูุงูู ุนูู ุงูุงูุชูุงู ูููุญุฏุฉ ุงูุชุงููุฉ: [ุงุณู ุงููุญุฏุฉ ุงูุชุงููุฉ]ุ"

---

## ๐ ูููู ุงููุดุฑูุน ุงูุงุญุชุฑุงูู (Dockerized Laravel)

ูุง ุชุบููุฑ ุจููุฉ Laravel ุงูููุงุณูุฉุ ููู ุฃุถูู ูุฌูุฏุงุช ุชุดุบูููุฉ ููุญุงููุงุช:

```
laravel-ecommerce/
โโโ docker/
โ   โโโ app/
โ   โ   โโโ Dockerfile
โ   โโโ nginx/
โ   โ   โโโ default.conf
โ   โโโ node/
โโโ .dockerignore
โโโ docker-compose.yml
โโโ app/ (Laravel default)
โโโ bootstrap/
โโโ config/
โโโ database/
โ   โโโ migrations/
โ   โโโ seeders/
โโโ public/
โโโ resources/
โ   โโโ views/
โ   โโโ js/
โโโ routes/
โโโ tests/
โโโ composer.json
โโโ package.json
โโโ README.md
```

---

## ๐จ ูุจุงุฏุฆ ุงูุชุทููุฑ (ููููููุฉ)

* ุงุชูุจุงุน ูุนุงููุฑ Laravel ุงูุฑุณููุฉ
* Separation of Concerns: Controllersุ Servicesุ Repositories (ุนูุฏ ุงูุญุงุฌุฉ)
* ุญูุงูุฉ: CSRF, validated Requests, signing URLs (where necessary)
* ุงุณุชุฎุฏุงู Redis ููุฌูุณุงุช ูุงูู cache
* Asset pipeline: Vite + Tailwind + TypeScript (ุจูุงุก ุฏุงุฎู ุญุงููุฉ node ุฃู multi-stage)

---

## ๐ ุงุนุชุจุงุฑุงุช ุงูุฃูุงู ุงูุฃุณุงุณูุฉ

* ุชุญูู ูู ูู ุงููุฏุฎูุงุช ุนุจุฑ Form Requests
* ุงูุญูุงูุฉ ูู SQL injection (Eloquent / Query Builder ููููุฑุงู ุฐูู ุนุงุฏุฉู)
  -ู ุฅุนุฏุงุฏ secure cookie flags ู `SESSION_DRIVER=redis`
* ุงุณุชุฎุฏุงู HTTPS ูู ุงูุจูุฆุฉ ุงูุฅูุชุงุฌูุฉ (Nginx proxy / certs ุฎุงุฑุฌูุฉ)
* ุนุฏู ุฏูุน ุฃู ุฃุณุฑุงุฑ ุฅูู Git

---

## ๐ ูููุฐุฌ ุชูููุฐ ูุญุฏุฉ (ูุซุงู ุนููู ูููููู)

1. Read structure: ูุญุต `docker-compose.yml` ููุฌูุฏ `Dockerfile`.
2. Plan: "ุณุฃุฌุนู Docker Compose ููุดุฆ ุงูุฎุฏูุงุช ุงูุชุงููุฉ: app, web, db, redis. ุณุฃุถูู ุฃู `composer install` ู `npm install && npm run build` ูุนููุงู ุฏุงุฎู ุงูุญุงููุงุช."
3. Execute: ุฅูุดุงุก ูููุงุช Docker & ุชุดุบูู `docker-compose up --build -d` (ุจุนุฏ ููุงููุชู).
4. Verify: `docker-compose ps` ู `docker-compose exec app php artisan migrate --seed`.

---

## ๐งช CI / CD ูุจูุฆุฉ ุงููุดุฑ

* ุชูุตูุฉ: GitHub Actions ุฃู GitLab CI ูุจูุงุก ุตูุฑุฉ Docker ูุงุฎุชุจุงุฑูุง ุซู ุฑูุนูุง ุฅูู registry (GHCR ุฃู private registry).
* ุงููุฑุงุญู ุงูููุชุฑุญุฉ ูู CI: lint, test, build image, push image.

---

## โ ูุฎุฑุฌุงุช ูุชููุนุฉ ููู ูุญุฏุฉ

ููู ูุญุฏุฉ ุณุฃูุชุฌ:

* ูุงุฆูุฉ ุชุบููุฑุงุช ููุชุฑุญุฉ (files to add/modify)
* ูููุงุช Docker / config ุฌุงูุฒุฉ
* ุฎุทูุงุช ุชุดุบูู ูุงุฎุชุจุงุฑ (commands)
* Plan rollback ูุจุณุท
* ุชูุฑูุฑ ุชุญูู ุตุบูุฑ (logs, status)

---

## ๐ฏ ุชุฐููุฑ ููุงุฆู

* ูุฐู ุงููุณุฎุฉ ููููุฃุฉ ููุนูู ูุน **Laravel ุฏุงุฎู Docker** (ููุณุช ูุณุฎุฉ ููุชุทููุฑ ุงููุญูู ุจุฏูู ุญุงููุงุช).
* ูุง ุฃุจุฏุฃ ุชูููุฐ ุฃู ููู ุฃู ุฃูุฑ ุฅููุง ุจุนุฏ ููุงููุชู ุนูู ุงูุฎุงุฑุทุฉ ูุงููุญุฏุฉ ุงูุชุงููุฉ.

---

**ุงูุขู: ูู ุชูุงูู ุนูู ุจุฏุก ุชูููุฐ ุงููุญุฏุฉ 1 โ "Docker environment & scaffold"ุ**

ุฃุฌุจ ุจู: **ูุนู** (ููููุงููุฉ) ุฃู **ูุง** (ููุทูุจ ุชุนุฏูู ุงูุฎุงุฑุทุฉ ุฃู ุงูุฃููููุงุช).

---

## ๐ ุงูุญุงูุฉ ุงูุญุงููุฉ ูููุดุฑูุน

ุญุชู ุงูุขูุ ุชู ุฅูุดุงุก ุงูุจููุฉ ุงูุฃุณุงุณูุฉ ูููุดุฑูุน ูุชุถููู:

1. **ุงููููู ุงูุฃุณุงุณู ูู Laravel** ูุน ุงูุฅุตุฏุงุฑ 12
2. **ุจูุฆุฉ Docker** ููููุฉ ูู ุฎุฏูุงุช:
   - `app`: ุญุงููุฉ PHP-FPM
   - `web`: ุฎุงุฏู Nginx
   - `db`: MariaDB 11.8
   - `redis`: ูุฎุฏูุงุช ุงูุชุฎุฒูู ุงููุคูุช ูุงูุฌูุณุงุช
   - `phpmyadmin`: ูุงุฌูุฉ ุฅุฏุงุฑุฉ ูุงุนุฏุฉ ุงูุจูุงูุงุช
3. **ูุซุงุฆู ุงููุดุฑูุน**:
   - `README.md`: ูุซููุฉ ููุฏูุฉ ูููุดุฑูุน
   - `TECHNICAL_DOCS.md`: ูุซุงุฆู ุชูููุฉ ููุตูุฉ
   - `CONTRIBUTING.md`: ุฅุฑุดุงุฏุงุช ุงููุณุงููุฉ
   - `CODE_OF_CONDUCT.md`: ููุงุนุฏ ุงูุณููู ูููุฌุชูุน
   - `CHANGELOG.md`: ุณุฌู ุงูุชุบููุฑุงุช
   - `TODO.md`: ููุงู ุงูุชุทููุฑ ุงููุณุชูุจููุฉ

